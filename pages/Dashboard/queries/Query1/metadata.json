{
  "gitSyncId": "67a78c88af45f24f85e95b40_b2c2687d-30a4-458b-9d64-933e20d138ac",
  "id": "Dashboard_Query1",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "WITH merchants AS (\n\tSELECT merchant_id\n\tFROM new_onboards\n\tWHERE business_team_user_id = '26'  -- push this filter early\n)\nSELECT\n  o.merchant_id,\n\n  COUNT(*) FILTER (\n\t\tWHERE o.transfer_status_id IN\n\t\t(8,9,10,11,12,13,14,22,23,24,25,26,28,30,31,32,33,36,37,38,39,40,41,42)\n\t) AS processed,\n\n  (\n\t\tSUM(\n\t\t\tCOALESCE(o.delivery_fee,0)\n\t\t\t+ COALESCE(o.additional_charge,0)\n\t\t\t- COALESCE(o.discount,0)\n\t\t\t- COALESCE(o.promo_discount,0)\n\t\t\t+ COALESCE(o.cash_on_delivery_fee,0)\n\t\t) FILTER (WHERE o.transfer_status_id IN (13,26,25,21,14,41,42))\n\t) / 100.0 AS rvn_all\n\nFROM remote_hermes.orders o\nJOIN merchants m ON m.merchant_id = o.merchant_id\nWHERE o.transfer_status_id IN\n      (8,9,10,11,12,13,14,21,22,23,24,25,26,28,30,31,32,33,36,37,38,39,40,41,42)\nGROUP BY o.merchant_id\norder by 1 desc;\n\n\n\n\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 60000000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "hermes-write-db-prod",
      "isAutoGenerated": false,
      "name": "hermes-write-db-prod",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [],
    "executeOnLoad": false,
    "name": "Query1",
    "pageId": "Dashboard",
    "userSetOnLoad": false
  }
}